<template name="GameItem">
  <div class="panel panel-default">
    <div class="panel-heading">
      <span class="pull-right clickable"><i class="glyphicon glyphicon-chevron-up"></i></span>
      <h3 class="panel-title"><a href="{{pathFor 'PlayerList' _id=sTeamId}}">Team Roster This Season</a></h3>
    </div>
    <div class="panel-body">
      {{#if cPlayers.count}}
        <ul class="list-group">
          <li class="list-group-item">
            <span class="badge">{{cPlayers.count}}</span> Team Roster <i class="fa fa-eye show-roster"></i> <a href="{{pathFor 'PlayerList' _id=sTeamId}}"><i class="fa fa-pencil"></i></a></li>
        </ul>
        <!-- show/hide when click on eye icon -->
        {{#if rvShowRoster}}
          <table class="table table-bordered table-striped table-condensed team-roster">
            <thead>
              <tr>
                <th>Name</th>
                <th>Jersey Number</th>
              </tr>
            </thead>
            <tbody>
              {{#each cPlayers}}
                <tr>
                  <td>{{> editableText collection="players" field="fullName"}}</td>
                  <td><span class="badge">{{> editableText collection="players" field="jerseyNumber"}}</span></td>
                </tr>
              {{/each}}
            </tbody>
          </table>
        {{/if}}
        <a href="{{pathFor 'PlayerList' _id=sGameId}}" class="btn btn-default pull-right">Edit</a>
      {{else}}
        <a href="{{pathFor 'PlayerList' _id=sGameId}}" class="btn btn-default">Create Team Roster</a>
      {{/if}}
    </div>
    <div class="panel panel-default">
      <div class="panel-heading">
        <span class="pull-right clickable"><i class="glyphicon glyphicon-chevron-up"></i></span>
        <h3 class="panel-title"><a href="{{pathFor 'PlayerGameReminderList' _id=sGameId}}">Game Reminder</a></h3>
      </div>
      <div class="panel-body">
        {{#if cGame}}
          <ul class="list-group">
            <li class="list-group-item">
              <span class="badge">{{cGame.yesPlaying.length}}</span> Yes
            </li>
            <li class="list-group-item">
              <span class="badge">{{cGame.notPlaying.length}}</span> No
            </li>
            <li class="list-group-item">
              <span class="badge">{{cGame.noReplies.length}}</span> No Reply
            </li>
          </ul>
        {{else}}
          <a href="{{pathFor 'PlayerGameReminderList' _id=sGameId}}" class="btn btn-default">Enter Game Reminder Player Info</a>
        {{/if}}
      </div>
    </div>
    <div class="panel panel-default">
      <div class="panel-heading">
        <span class="pull-right clickable"><i class="glyphicon glyphicon-chevron-up"></i></span>
        <h3 class="panel-title">Game Formation</h3>
      </div>
      <div class="panel-body">
        {{#if cGame.myFormation}}
          <p>Game Day Formation: {{cGame.myFormation}}</p>
          <a href="{{pathFor 'FormationEdit' _id=sGameId}}" class="btn btn-default pull-right">Edit</a>
        {{else}}
          <a href="{{pathFor 'FormationNew' _id=sGameId}}" class="btn btn-default pull-right">Choose Formation</a>
        {{/if}}
        <!-- 
<li role="presentation"><a href="{{pathFor 'PlayerPlainList' _id=sGameId}}">Starting Lineup</a></li>
     </ul>
 -->

      </div>
    </div>
    <div class="panel panel-default">
      <div class="panel-heading">
        <span class="pull-right clickable"><i class="glyphicon glyphicon-chevron-up"></i></span>
        <h3 class="panel-title">Position Names</h3>
      </div>
      <div class="panel-body">
        {{#if cGame.playerGameInfo}}
          <ul class="list-group">
            <li class="list-group-item">
              Position Names <i class="fa fa-eye show-positions"></i></li>
          </ul>
          <!-- show/hide when click on eye icon -->
          {{#if rvShowPositions}}
            {{> PositionList}}
            <a href="{{pathFor 'PositionList' _id=sGameId}}" class="btn btn-default pull-right">Edit</a>
          {{/if}}
        {{else}}
          <a href="{{pathFor 'PositionNew' _id=sGameId}}" class="btn btn-default pull-right">Name Positions</a>
        {{/if}}

        <!-- <li role="presentation"><a href="{{pathFor 'PlayerPlainList' _id=sGameId}}">Starting Lineup</a></li>
     </ul> -->

      </div>
    </div>
    <div class="panel panel-default">
      <div class="panel-heading">
        <span class="pull-right clickable"><i class="glyphicon glyphicon-chevron-up"></i></span>
        <h3 class="panel-title">Starting Lineup</h3>
      </div>
      <div class="panel-body">
        <ul class="list-group">
          <li class="list-group-item">
            <span class="badge">{{#if numStarters}}{{numStarters}}{{else}} Not Completed{{/if}}</span> Starting
          </li>
          <li class="list-group-item">
            <span class="badge">{{#if cGame.subs}}{{cGame.subs.length}}{{else}} Not Completed{{/if}}</span> Subs
          </li>
          <li class="list-group-item">
            <span class="badge">{{#if totalPlayers}}{{totalPlayers}}{{else}} Not Completed{{/if}}</span> Total Players for Today's Game
          </li>
        </ul>
        <a class="btn btn-default pull-right" href="{{pathFor 'StarterSubList' _id=sGameId}}">Starting Lineup</a>
      </div>
    </div>
  </div>
</template>

